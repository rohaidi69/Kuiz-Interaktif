<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÙƒÙˆÙŠØ² ØªÙØ§Ø¹Ù„ÙŠ - Ø¹Ù„Ù… Ø§Ù„ØµØ±Ù</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      direction: rtl;
      background: linear-gradient(to bottom, #f3f4f6, #e5e7eb);
      padding: 40px;
      margin: 0;
    }
    .quiz-container {
      max-width: 800px;
      margin: auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    h2 {
      color: #1f2937;
      font-size: 28px;
      margin-bottom: 20px;
      text-align: center;
    }
    .question {
      margin-bottom: 20px;
      font-size: 20px;
      color: #111827;
      font-weight: bold;
    }
    .options {
      display: grid;
      gap: 10px;
    }
    .options button {
      padding: 12px 20px;
      border: 2px solid #d1d5db;
      border-radius: 10px;
      background: #f9fafb;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .options button:hover {
      background-color: #e0f2fe;
      border-color: #38bdf8;
      color: #0369a1;
    }
    .feedback {
      margin-top: 15px;
      font-weight: bold;
      font-size: 18px;
    }
    .navigation {
      margin-top: 30px;
      display: flex;
      justify-content: space-between;
    }
    .navigation button {
      padding: 12px 25px;
      border: none;
      border-radius: 10px;
      background: #3b82f6;
      color: white;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .navigation button:hover {
      background: #2563eb;
    }
    .score-summary {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
      color: #065f46;
      font-weight: bold;
    }
    .certificate {
      display: none;
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      border: 2px dashed #6b7280;
      border-radius: 15px;
      background: #fef3c7;
    }
    .certificate h3 {
      margin-bottom: 10px;
      color: #b45309;
    }
    .certificate p {
      margin: 5px 0;
    }
    .certificate button {
      margin-top: 10px;
      padding: 10px 20px;
      background: #16a34a;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    .certificate button:hover {
      background: #15803d;
    }
    #nameInputContainer {
      text-align: center;
      margin-bottom: 30px;
    }
    #nameInputContainer input {
      padding: 10px;
      font-size: 16px;
      width: 60%;
      margin-top: 10px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
    }
  </style>
</head>
  <div id="startPage">
  <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ù„Ù… Ø§Ù„ØµØ±Ù</h2>
  <label for="studentName">ğŸ‘¤ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:</label>
  <input type="text" id="studentName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨" required>
  <br><br>
  <button onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
</div>

<div id="quizPage" style="display:none;">
  <!-- Kuiz bermula di sini -->
</div>
<body>
  <div class="quiz-container">
    <h2>ÙƒÙˆÙŠØ² ØªÙØ§Ø¹Ù„ÙŠ ÙÙŠ Ø¹Ù„Ù… Ø§Ù„ØµØ±Ù - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</h2>

    <div id="nameInputContainer">
      <label for="studentName">ğŸ“ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ÙƒÙˆÙŠØ²:</label><br>
      <input type="text" id="studentName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." oninput="saveName(this.value)" />
    </div>

    <div id="quiz">
      <div class="question" id="question"></div>
      <div class="options" id="options"></div>
      <div class="feedback" id="feedback"></div>
      <div class="navigation">
        <button onclick="prevQuestion()">â† Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ â†’</button>
      </div>
      <div class="score-summary" id="score"></div>
      <div class="certificate" id="certificate">
        <h3>ğŸ“ Ø´Ù‡Ø§Ø¯Ø© Ø¥ØªÙ…Ø§Ù… Ø§Ù„ÙƒÙˆÙŠØ²</h3>
        <p id="studentDisplay"></p>
        <p id="grade"></p>
        <button onclick="window.print()">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
      </div>
    </div>
  </div>

  <script>
    const quizData = [
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ø§Ø³ØªØºÙØ§Ø±\"ØŸ", options: ["Ø§ÙØªØ¹Ø§Ù„", "ØªÙØ¹Ù‘Ù„", "Ø§Ø³ØªÙØ¹Ø§Ù„", "ØªÙØ¹ÙŠÙ„ÙŠ"], answer: "Ø§Ø³ØªÙØ¹Ø§Ù„", explanation: "Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù‡Ùˆ 'Ø§Ø³ØªÙØ¹Ø§Ù„' Ù„Ø£Ù†Ù‡ Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'Ø§Ø³ØªØºÙØ±'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"ØªÙØ§Ø¹Ù„\"ØŸ", options: ["ØªÙØ¹ÙŠÙ„", "ØªÙØ§Ø¹Ù„", "Ø§ÙØªØ¹Ø§Ù„", "Ù…ÙØ§Ø¹Ù„Ø©"], answer: "ØªÙØ§Ø¹Ù„", explanation: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø¹Ù„Ù‰ ÙˆØ²Ù† 'ØªÙØ§Ø¹Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'ØªÙØ§Ø¹Ù„Ù'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ù…ÙƒØªÙˆØ¨\"ØŸ", options: ["ÙØ§Ø¹Ù„", "Ù…ÙØ¹ÙˆÙ„", "ØªÙØ¹ÙŠÙ„", "ÙØ¹Ù„"], answer: "Ù…ÙØ¹ÙˆÙ„", explanation: "'Ù…ÙƒØªÙˆØ¨' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ù…ÙØ¹ÙˆÙ„' Ù„Ø£Ù†Ù‡ Ø§Ø³Ù… Ù…ÙØ¹ÙˆÙ„." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ù…Ù†Ø·Ù„Ù‚\"ØŸ", options: ["ÙØ§Ø¹Ù„", "Ù…ÙØ¹ÙˆÙ„", "Ù…Ù†ÙØ¹Ù„", "Ù…ÙØªØ¹Ù„"], answer: "Ù…Ù†ÙØ¹Ù„", explanation: "'Ù…Ù†Ø·Ù„Ù‚' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ù…Ù†ÙØ¹Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'Ø§Ù†Ø·Ù„Ù‚'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"ØªÙ‚Ø¯Ù‘Ù…\"ØŸ", options: ["ØªÙØ¹Ù‘Ù„", "ØªÙØ§Ø¹Ù„", "ØªÙØ¹Ù„Ù„", "ØªÙØ¹ÙŠÙ„"], answer: "ØªÙØ¹Ù‘Ù„", explanation: "'ØªÙ‚Ø¯Ù‘Ù…' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'ØªÙØ¹Ù‘Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'ØªÙ‚Ø¯Ù‘Ù…'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ø§Ø¬ØªÙ…Ø§Ø¹\"ØŸ", options: ["Ø§ÙØªØ¹Ø§Ù„", "Ø§Ø³ØªÙØ¹Ø§Ù„", "ØªÙØ¹ÙŠÙ„", "Ù…ÙØ§Ø¹Ù„Ø©"], answer: "Ø§ÙØªØ¹Ø§Ù„", explanation: "'Ø§Ø¬ØªÙ…Ø§Ø¹' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ø§ÙØªØ¹Ø§Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'Ø§Ø¬ØªÙ…Ø¹'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ù…ØªØ¹Ù„Ù‘Ù…\"ØŸ", options: ["Ù…ÙØ¹ÙˆÙ„", "ÙØ§Ø¹Ù„", "Ù…ØªÙØ¹Ù‘Ù„", "Ù…ÙØªÙÙÙØ¹ÙÙ‘Ù„"], answer: "Ù…ÙØªÙÙÙØ¹ÙÙ‘Ù„", explanation: "'Ù…ØªØ¹Ù„Ù‘Ù…' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ù…ÙØªÙÙÙØ¹ÙÙ‘Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'ØªØ¹Ù„ÙÙ‘Ù…'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ø§Ø³ØªÙ‚Ø¨Ø§Ù„\"ØŸ", options: ["Ø§ÙØªØ¹Ø§Ù„", "Ø§Ø³ØªÙØ¹Ø§Ù„", "Ø§Ø³ØªÙØ¹ÙˆÙ„", "ØªÙØ¹Ù„Ù„"], answer: "Ø§Ø³ØªÙØ¹Ø§Ù„", explanation: "'Ø§Ø³ØªÙ‚Ø¨Ø§Ù„' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ø§Ø³ØªÙØ¹Ø§Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'Ø§Ø³ØªÙ‚Ø¨Ù„'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"ØªØ®Ø±Ù‘Ø¬\"ØŸ", options: ["ØªÙØ¹Ù„Ù„", "ØªÙØ¹Ù‘Ù„", "Ø§ÙØªØ¹Ø§Ù„", "ØªÙØ§Ø¹Ù„"], answer: "ØªÙØ¹Ù‘Ù„", explanation: "'ØªØ®Ø±Ù‘Ø¬' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'ØªÙØ¹Ù‘Ù„' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'ØªØ®Ø±Ù‘Ø¬'." },
      { question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ±ÙÙŠ Ù„ÙƒÙ„Ù…Ø© \"Ù…Ø±Ø§Ø³Ù„Ø©\"ØŸ", options: ["Ù…ÙØ§Ø¹Ù„Ø©", "ØªÙØ§Ø¹Ù„", "Ø§ÙØªØ¹Ø§Ù„", "Ø§Ø³ØªÙØ¹Ø§Ù„"], answer: "Ù…ÙØ§Ø¹Ù„Ø©", explanation: "'Ù…Ø±Ø§Ø³Ù„Ø©' Ø¹Ù„Ù‰ ÙˆØ²Ù† 'Ù…ÙØ§Ø¹Ù„Ø©' Ù…Ù† Ø§Ù„ÙØ¹Ù„ 'Ø±Ø§Ø³Ù„'." }
    ];

    let currentQuestion = 0;
    let score = 0;
    let answered = Array(quizData.length).fill(false);
    let studentName = "";

    function saveName(name) {
      studentName = name;
    }

    function loadQuestion() {
      const q = quizData[currentQuestion];
      document.getElementById("question").innerText = q.question;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.innerText = option;
        btn.onclick = () => checkAnswer(option, q.answer, q.explanation);
        optionsDiv.appendChild(btn);
      });
      document.getElementById("feedback").innerText = "";
      document.getElementById("score").innerText = "";
    }

    function checkAnswer(selected, correct, explanation) {
      const feedback = document.getElementById("feedback");
      if (!answered[currentQuestion]) {
        if (selected === correct) {
          feedback.style.color = "green";
          feedback.innerText = "âœ”ï¸ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! " + explanation;
          score++;
        } else {
          feedback.style.color = "red";
          feedback.innerText = "âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. " + explanation;
        }
        answered[currentQuestion] = true;
        if (answered.every(a => a)) {
          showScore();
        }
      } else {
        feedback.innerText = "Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¨Ø§Ù„ÙØ¹Ù„.";
        feedback.style.color = "#6b7280";
      }
    }

    function getGrade(score) {
      const total = quizData.length;
      const percent = (score / total) * 100;
      if (percent >= 90) return "ğŸŒŸ Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ù‹Ø§";
      else if (percent >= 75) return "âœ… Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§";
      else if (percent >= 60) return "ğŸ‘ Ù…Ù‚Ø¨ÙˆÙ„";
      else return "âš ï¸ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø©";
    }

    function showScore() {
      const scoreDiv = document.getElementById("score");
      const grade = getGrade(score);
      scoreDiv.innerText = `ğŸ“Š Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${quizData.length} Ø³Ø¤Ø§Ù„.`;
      document.getElementById("grade").innerText = grade;
      document.getElementById("studentDisplay").innerText = `ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨: ${studentName || "(Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…)"}`;
      document.getElementById("certificate").style.display = "block";
    }
    
function showScore() {
  const scoreDiv = document.getElementById("score");
  const grade = getGrade(score);
  scoreDiv.innerText = `ğŸ“Š Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${quizData.length} Ø³Ø¤Ø§Ù„.`;
  document.getElementById("grade").innerText = grade;
  document.getElementById("studentDisplay").innerText = `ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨: ${studentName || "(Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…)"}`;
  document.getElementById("certificate").style.display = "block";

  saveToGoogleSheet(); // <-- Tambah baris ini
}

    function nextQuestion() {
      if (currentQuestion < quizData.length - 1) {
        currentQuestion++;
        loadQuestion();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
      }
    }

    window.onload = loadQuestion;
    
    function saveToGoogleSheet() {
  const url = "URL_WEB_APP_GOOGLE_SCRIPT"; // Ganti dengan URL sebenar anda
  const payload = {
    name: studentName || "Tanpa Nama",
    score: `${score}/${quizData.length}`,
    grade: getGrade(score)
  };

  fetch(url, {
    method: "POST",
    mode: "no-cors",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
  });
}
    <script>
  let studentName = "";

  // Fungsi untuk dapatkan gred berdasarkan skor
  function getGrade(score) {
    const total = quizData.length;
    const percentage = (score / total) * 100;
    if (percentage >= 90) return "ğŸŒŸ Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ù‹Ø§";
    if (percentage >= 75) return "âœ… Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§";
    if (percentage >= 60) return "ğŸ‘ Ù…Ù‚Ø¨ÙˆÙ„";
    return "âš ï¸ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø©";
  }

  // Fungsi untuk simpan data ke Google Sheet
  function saveToGoogleSheet() {
    const url = "https://script.google.com/macros/s/AKfycbxjlbIc3_wg8sit1oJut3ljZwQ89ZC4n3A5tcyfkUptCVcay13N6LY4e45ScUcOTJ8/exec";
    const payload = {
      name: studentName || "Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…",
      score: `${score}/${quizData.length}`,
      grade: getGrade(score)
    };

    fetch(url, {
      method: "POST",
      mode: "no-cors",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(payload)
    });
  }

  // Fungsi akhir selepas semua soalan dijawab
  function showScore() {
    const grade = getGrade(score);
    document.getElementById("score").innerText = `ğŸ“Š Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${quizData.length} Ø³Ø¤Ø§Ù„.`;
    document.getElementById("grade").innerText = grade;
    document.getElementById("studentDisplay").innerText = `ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨: ${studentName || "(Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…)"}`;
    document.getElementById("certificate").style.display = "block";

    saveToGoogleSheet(); // âœ… Simpan ke Google Sheet
  }

  // Fungsi permulaan â€“ dapatkan nama pelajar
  function startQuiz() {
    studentName = document.getElementById("studentName").value.trim();
    if (!studentName) {
      alert("Sila masukkan nama anda.");
      return;
    }
    document.getElementById("startPage").style.display = "none";
    document.getElementById("quizPage").style.display = "block";
    showQuestion();
  }
</script>

  </script>
</body>
</html>
